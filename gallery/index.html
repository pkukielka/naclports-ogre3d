<!--
  Copyright (c) 2010 The Native Client Authors. All rights reserved.
  Use of this source code is governed by a BSD-style license that can be
  found in the LICENSE file.
-->

<!DOCTYPE html PUBLIC
    "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
.INFO {
  font-weight: bold;
  font-size: 100%;
  margin: 0 0.25in 0 0.25in;
  background-color: white;
  border: solid blue 5px;
  padding: 5px;
}
.WARNING {
  font-weight: bold;
  font-size: 125%;
  margin: 0 0.25in 0 0.25in;
  background-color: yellow;
  border: solid red 5px;
  padding: 5px;
}
.inactive_link {
  font-weight: bold;
  font-size: 100%;
  color: grey;
  text-decoration: line-through;
}
</style>

<script type="text/javascript" src="check_browser.js"></script>

<script type="text/javascript">
// Check for Native Client support in the browser before the DOM loads.
checker = new browser_version.BrowserChecker(10, navigator["appVersion"],
                                             navigator["plugins"]);
console.log("checker=" + checker);
var result = checker.checkBrowser();
/**
 * The page onload event handler. Update the markup to reflect whether this is
 * a valid version of the Google Chrome browser, and that it supports Native
 * client modules.
 */
function pageDidLoad() {
  var nacl_status_field = document.getElementById('nacl_status');
  if (!checker.getIsValidBrowser()) {
    nacl_status_field.className = "WARNING";
    nacl_status_field.innerHTML = "WARNING: "
      + checker.getBrowserSupportMessage()
      + "<BR>You can view the screenshots and source code for the Native Client"
      + " modules<BR>but you will not be able to run them in this browser.";
  } else {
    nacl_status_field.className = "INFO";
    nacl_status_field.innerHTML = "INFO: "
      + checker.getBrowserSupportMessage()
      + "<BR>To run the Native Client modules within this browser, click 'Run'"
      + " in the left column<BR> or click on the screenshot"
      + " of the Native Client application in the right column.";
  }
}

/**
 * Adds a link to the plugin page if checker.getIsValidBrowser() is true
 * (i.e. if NaCl is enabled); otherwise it uses the inactive_link
 * sytlesheet to show a greyed out link.
 * @param {string} href The link (url) to the plugin page.
 * @return {bool} |true| if the plugin is found.
 */
function addNaclPluginLink(href) {
  if (1 /*checker.getIsValidBrowser()*/) {
    document.write('<BR><a href="' + href + '">Run</a>');
  } else {
    document.write("<BR><p class=inactive_link>Run</p>");
  }
}

/**
 * Adds an image for this plugin and, if NaCl is enabled, also makes
 * the image a link to the plugin page.
 * @param {string} imagelink The link (url) to the image.
 * @param {string} href The link (url) to the plugin page.
 * @return {bool} |true| if the plugin is found.
 */
function addNaclImageLink(imagelink, href) {
  if (1 /*checker.getIsValidBrowser() */) {
    document.write('<a href="' + href + '"><IMG src="'
      + imagelink + '" width=100% alt="screenshot of NaCl-enabled app"></a>');
  } else {
    document.write('<IMG src="' + imagelink
       + '" width=100% alt=screenshot of NaCl-enabled app>');
  }
}

</script>

<link href="http://code.google.com/css/codesite.css" rel="stylesheet"
 type="text/css" />
<title>Gallery: Native Client Examples</title>
</head>

<body onload="pageDidLoad()">
<h2>Gallery: Native Client Examples</h2>
<BR>
<div id="nacl_status"> </div>

<p>This page lists the current Native Client (NaCl) examples, some of which
  are included with the
<a href="http://code.google.com/p/nativeclient-sdk">download file</a>.</p>
<p>To run these examples, you must use Chrome version 10.x or greater with
   Native Client enabled.  On Windows you can also use the
 <a href="http://blog.chromium.org/2010/08/google-chrome-in-coal-mine.html">
  Canary Build</a> to run them. Refer to
<a href="http://code.google.com/p/nativeclient-sdk/wiki/HowTo_RunModules">
  HowTo_RunModules</a> for further information.</p>
<table>
<tbody>
<tr>
  <td style="width: 75%;"><b>Hello World</b>
    <p><b>Overview: </b>The Hello World example combines HTML, JavaScript, and
    C++ (the C++ is compiled to create a .nexe file). The .nexe code responds
    to button click events and calls the browser to show alert panels.</p>
    <p></p>
    <a href="http://code.google.com/p/nativeclient-sdk/source/browse/#svn/trunk/src/examples/hello_world">View source</a>
    <script type="text/javascript">
      addNaclPluginLink("hello_world/hello_world.html");
    </script>
  </td>
  <td style="width: 25%;">
    <script type="text/javascript">
      addNaclImageLink("hello_world/hello.png", "hello_world/hello_world.html");
    </script>
  </td>
</tr>
<tr>
  <td style="width: 75%;"><b>Pi Generator</b>
    <p><b>Overview: </b>The Pi Generator example combines HTML, JavaScript,
    and C++ (the C++ is compiled to create a .nexe file). The .nexe code
    creates a thread that estimate pi using the Monte Carlo method while
    randomly putting 1,000,000,000 points inside a 2D square that shares two
    sides with a quarter circle. The 2D square is generated using the Pepper 2D
    API.</p>
    <p></p>
    <a href="http://code.google.com/p/nativeclient-sdk/source/browse/#svn/trunk/src/examples/pi_generator">View source</a>
    <script type="text/javascript">
      addNaclPluginLink("pi_generator/pi_generator.html");
    </script>
  </td>
  <td style="width: 25%;">
    <script type="text/javascript">
      addNaclImageLink("pi_generator/montecarlopi.png",
        "pi_generator/pi_generator.html");
    </script>
  </td>
</tr>
<tr>
  <td style="width: 75%;"><b>Sine Wave Synthesizer</b>
    <p><b>Overview: </b>The Sine Wave Synthesizer example combines HTML,
    JavaScript, and C++ (the C++ is compiled to create a .nexe file). It
    synthesizes and plays a sine wave.  You can enter the frequency of the
    sine wave.  It uses Pepper Audio API to play the tone.</p>
    <p></p>
    <a href="http://code.google.com/p/nativeclient-sdk/source/browse/#svn/trunk/src/examples/sine_synth">View source</a>
    <script type="text/javascript">
      addNaclPluginLink("sine_synth/sine_synth.html");
    </script>
  </td>
  <td style="width: 25%;">
    <script type="text/javascript">
      addNaclImageLink("sine_synth/sinewave.png", "sine_synth/sine_synth.html");
    </script>
  </td>
</tr>
<!-- TODO(dspringer): Re-enable this part of the gallery page once 3D support
     is avbailable in PPAPI.
<tr>
  <td style="width: 75%;"><b>Tumbler</b>
    <p><b>Overview: </b> The Tumbler example combines HTML, JavaScript, and C++
    (the C++ is compiled to create a .nexe file). The .nexe code uses the
    Pepper 3D API to create a 3 dimensional cube that can be rotated using the
    left mouse button.</p>
    <p></p>
    <a href="http://code.google.com/p/nativeclient-sdk/source/browse/#svn/trunk/src/examples/tumbler">View source</a>
    <script type="text/javascript">
      addNaclPluginLink("tumbler/tumbler.html");
    </script>
  </td>
  <td style="width: 25%;">
    <script type="text/javascript">
      addNaclImageLink("tumbler/tumbler.png", "tumbler/tumbler.html");
    </script>
  </td>
</tr>
-->
<tr>
  <td style="width: 75%;"><b>Life</b>
    <p><b>Overview: </b> The Life example combines HTML and C++
    (the C++ is compiled to create a .nexe file). The .nexe code implements
    the Life cellular automaton invented by British mathematiciaion John
    Horton Conway.  Use the mouse to paint extra life into the simulation.</p>
    <p></p>
    <a href="http://code.google.com/p/naclports/source/browse/#svn/trunk/src/examples/graphics/life">View source</a>
    <script type="text/javascript">
      addNaclPluginLink("life/life.html");
    </script>
  </td>
  <td style="width: 25%;">
    <script type="text/javascript">
      addNaclImageLink("life/life.png", "life/life.html");
    </script>
  </td>
</tr>

</tbody>
</table>
</body>
</html>
